<cpy-page-container>
  <cpy-page-content>
    <h3 class="border-b">
      Form validation
    </h3>

    <p>
      You can improve your experience validating webs forms by taking advantage of the validation tooling built into Canopy. This page shows how to validate user input easily through the use of built-in validators, as well creating your own to work with the validation system.
    </p>

    <h4 id="getting-started">Getting Started</h4>
    <p>
      <cpy-link href="/comps/input">Canopy Inputs</cpy-link> can accept a <cpy-code-snippet>validators</cpy-code-snippet> property containing a list of validators to run on the input. The validation input is of the following type:
    </p>
    <cpy-code-block id="getting-started-types" language="typescript"></cpy-code-block>

    <h4 id="built-in-validators">Built-in Validators</h4>
    <p>
      Canopy comes with a number of built in validators that handle most basic use cases for form inputs. The list is expected to grow but is currently comprised of the following:
    </p>
    <ul>
      <li>Required</li>
      <li>Email</li>
      <li>Number</li>
      <li>Min/Max Length</li>
      <li>Min/Max Number Length</li>
    </ul>
    <p>
      The following example shows how you can configure the built-in validators for inputs
    </p>
    <cpy-code-block id="built-in-validation" language="html"></cpy-code-block>
    <p>
      Additional, setting the required flag on an input will add the required validator automatically, and the number and email type fields have regex validations to ensure validity.
    </p>

    <h4 id="custom-messages">Custom Error Messages</h4>
    <p>
      TODO: ...
    </p>

    <h4 id="custom-validators">Custom Validators</h4>
    <p>
      You can create your own validators for inputs, allowing the validation logic to be customised however you like. An example validator is below:
    </p>
    <cpy-code-block id="custom-validators-typescript" language="typescript"></cpy-code-block>

    <h4 id="input-state">Form/Input State</h4>
    <p>
      Currently, you can call a method exposed on the input to check the validity of an input (There is future work planned to allow you to wrap a group of inputs in a custom form component which can be used to check the validity of the entire form).
    </p>
    <cpy-code-block id="input-state-valid" language="html"></cpy-code-block>
    <p>
      Another method, markAsTouched is exposed, allowing you to mark an input as touched and forcing validation to run even if the user has not interacted with the input. This is useful for updating the UI on submit of a form to indicate to the user what fields are invalid (There is future work planned to allow you to wrap a group of inputs in a custom form component which can be used to mark all inputs as touched).
    </p>
    <cpy-code-block id="input-state-mark-touched" language="html"></cpy-code-block>
  </cpy-page-content>
</cpy-page-container>

<script src="/docs/learn-more/formValidation.js">
</script>
